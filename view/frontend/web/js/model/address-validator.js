define(["Collab_CheckoutBillingAtShipping/js/view/billing-address","ko","Magento_Customer/js/model/customer","Magento_Customer/js/model/address-list","Magento_Checkout/js/model/address-converter","Magento_Checkout/js/model/quote","Magento_Checkout/js/action/create-billing-address","Magento_Checkout/js/action/select-billing-address","underscore"],function(t,e,d,o,n,a,l,g,u){return{validateBillingInformation:(e,i)=>{if(t().isAddressSameAsShipping())if(e){let e=a.shippingAddress(),s=n.formAddressDataToQuoteAddress(i.get("shippingAddress"));for(var r in s)if(s.hasOwnProperty(r)&&e.hasOwnProperty(r)&&"function"!=typeof s[r]&&u.isEqual(e[r],s[r]))e[r]=s[r];else if("function"!=typeof s[r]&&!u.isEqual(e[r],s[r])){e=s;break}d.isLoggedIn()&&(e.save_in_address_book=1)}else g(a.shippingAddress());else{let s=document.querySelector(t().addressSelectSelector)?.value;if(s)return o.some(e=>s==e.customerAddressId&&(g(e),!0));if(i.set("params.invalid",!1),i.trigger("billingAddress.data.validate"),i.get("params.invalid"))return!1;e=i.get("billingAddress"),i=l(e);g(i),a.shippingAddress().canUseForBilling(!1)}return!0}}});