define(["jquery","ko","Magento_Ui/js/form/form","Magento_Customer/js/model/customer","Magento_Customer/js/model/address-list","Magento_Checkout/js/model/quote","Magento_Checkout/js/action/select-billing-address","Magento_Checkout/js/checkout-data","Magento_Customer/js/customer-data","mage/translate","underscore"],function(s,e,i,t,d,r,n,o,l,a,u){let g={getAddressInline:()=>a("New Address"),customerAddressId:null},c=l.get("directory-data"),h=d().filter(s=>"customer-address"===s.getType());return h.push(g),i.extend({defaults:{template:"Collab_CheckoutBillingAtShipping/billing-address"},currentBillingAddress:r.billingAddress,addressOptions:h,customerHasAddresses:1<h.length,isAddressSameAsShipping:e.observable(!0),addressSelectSelector:'[name="billing_address_id"]',initialize:function(){this._super()},initObservable:function(){return this._super().observe({selectedAddress:null,isAddressFormVisible:!1,saveInAddressBook:1,isAddressFormListVisible:!1}),this},canUseShippingAddress:e.computed(()=>!r.isVirtual()&&r.shippingAddress()&&r.shippingAddress().canUseForBilling()),addressOptionsText:function(s){return s.getAddressInline()},useShippingAddress:function(){return this.isAddressSameAsShipping()?(n(r.shippingAddress()),this.isAddressFormVisible(!1),this.isAddressFormListVisible(!1)):(this.isAddressSameAsShipping(!1),this.isAddressFormVisible(1===h.length),this.isAddressFormListVisible(1<h.length)),o.setSelectedBillingAddress(null),!0},onAddressChange:function(s){this.isAddressFormVisible(!s)},getCountryName:function(s){return c()[s]?c()[s].name:""},getCode:function(s){return u.isFunction(s.getCode)?s.getCode():"shared"}})});